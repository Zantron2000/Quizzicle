{% extends "quizzes/header.html" %}
{% load static %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'quizzes/css/modify_question.css' %}">
{% endblock %}


{% block title %}Modify Question | StudyBee{% endblock %}

{% block content %}
    <main>
        <div class="tools">
            <div></div>
            <div><h1>Modify Question</h1></div>
            <div class="buttons">
                <a class="cancel" href="{% url 'modify_quiz' quiz.id %}"><p>Go Back</p></a>
                <a class="delete" href="{% url 'delete_question' question.id %}"><p>Delete</p></a>
            </div>
        </div>
        
        <div class="content">
            <div class="form">
                <hr>
                <form action="" method="post">
                    {% csrf_token %}
                    
                    {% for field in form %}
                        <label for="{{field.name}}">{{field.label}}</label>
                        {{field}}
                    {% endfor %}
                    <input class="submit" type="submit" value="Update Question">
                </form>

                <div class="messages" {% if not messages %}hidden{% endif %}>
                    {% if messages %}
                        {% for message in messages %}
                            <p class="message">{{message}}</p>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>
            <div>
                <hr>
                <div class="choice_tools">
                    <div></div>
                    <div><h2>Choices</h2></div>
                    <div class="create">
                        <a href="{% url 'create_choice' question.id %}"><p>Create Choice</p></a>
                    </div>
                </div>
                {% for choice, choice_form in choices %}
                    <form class="choice" method="post" action="{% url 'modify_choice' choice.id %}">
                        {% csrf_token %}
                        <div class="item1">{{choice_form.choice}}</div>
                        <div class="item2"></div>
                        <div class="item3"><input class="delete_choice" type="submit" name="delete" value="Delete"></div>
                        <div class="item4"><label for="correct">Correct Answer</label> {{choice_form.correct}}</div>
                        <div class="item5"></div>
                        <div class="item6"><input class="update" type="submit" name="update" value="Update"></input></div>
                    </form>
                {% endfor %}
            </div>
        </div>
    </main>
{% endblock %}